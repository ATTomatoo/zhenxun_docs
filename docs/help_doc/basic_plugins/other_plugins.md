---
title: 被动插件
---


好友群聊请求处理
---
* __模块__: `auto_invite`
* __说明__：  
好友请求，入群请求提醒，5分钟内不会提醒重复的请求（大概

|       响应器        |    说明       |
|:-----------------:|:-----------:|
|on_request         |   好友请求处理和收集
|on_request         |   群聊请求处理，超级用户邀请会自动添加群认证

* __定时任务__:

|       名称        |       类型        |      时间    |     说明      |
|:-----------------:|:-----------------:|:-----------:|:-----------:|
|   临时id清理      |   interval        |   minutes=5  | 清空临时id数据


群事件处理
---
* __模块__: `group_handle`
* __说明__：  
主要为新成员与退出成员数据的增删（真寻Bot被踢出时提醒），以及退群提醒和进群欢迎  
进群欢迎提供 cd  限制，默认`5`秒  
被强制拉群时会通过群认证退出该群

|       响应器        |    说明       |
|:-----------------:|:-----------:|
|on_notice          |   群成员新增处理，欢迎消息，新增数据，群认证检测
|on_notice         |   群成员减少，退群提醒以及删除数据


定时任务
---
* __模块__: `apscheduler`
* __说明__：  
群内主要的定时任务，包括早晚安，自动更新群信息，好友信息等
* __定时任务__:

|       名称        |       类型        |      时间    |     说明      |
|:-----------------:|:-----------------:|:-----------:|:-----------:|
|早安               |   cron        |   hour=6 minute=1  | 每日`06:01`发送早安
|晚安               |   cron        |       hour=23 minute=59 | 每日`23:59`发送晚安
|群聊信息更新         |   cron        | hour=3 minute=1   | 每日`03:01`更新所有群聊信息
|好友信息更新       |   cron        |   hour=3 minute=1   | 每日`03:01`更新所有好友信息


权限检测
---
* __模块__: `hooks`
* __说明__：  
权限核心插件，所有权限检测必须的插件，非常重要  

|       模块        |      名称    |     说明      |
|:-----------------:|:-----------:|:-----------:|
|`auth_hook`       |   插件权限检测 |   检测包括禁用，群权限，功能开关等权限检测
|`ban_hook`         |   黑名单检测  |   黑名单权限检测
|`chkdsk_hook`     | 恶意命令触发检测  |    检测是否连续重复快速调用同一种命令
|`limit_hook`       |  插件限制检测 |   检测插件的**cd**，**block**，**count**限制
|`withdraw_message_hook`|   消息撤回机制   |    自动消息撤回机制
|`other_hook`       |   普通检测      |     相对不太重要的检测，缺失可能导致一些小问题


初始化
---
* __模块__: `hooks`
* __说明__：  
各种数据等初始化

|       模块        |      名称    |     说明      |
|:-----------------:|:-----------:|:-----------:|
|`check_plugin_status` |    插件状态检测   |    检测插件是否正确加载
|`init_group_manager`  |    初始化群数据   |    目前仅仅包含旧数据 -> 新数据 转换
|`init_none_plugin_count_manager`|  插件加载检测    |   容忍机制，当插件事件响应器连续5次加载失败，会以插件**已删除**处理
|`init_plugins_config` |    初始化插件配置项    |   `config.yaml`和`plugins2config.yaml`文件的生成
|`init_plugins_data`   |    插件功能管理   |    插件总开关，插件状态等
|`init_plugins_limit`  |    插件限制管理   |    插件限制管理器生成与存储
|`init_plugins_resources`|  插件资源管理   |    插件资源文件的移动与删除
|`init_plugins_settings`|   插件基础设置   |    非限制插件最基本的5项设置

执行脚本
---
* __模块__: `scripts`
* __说明__:  
执行一些必要的脚本，一般是各种修改后对新旧格式数据的转换等

